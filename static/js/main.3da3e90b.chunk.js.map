{"version":3,"sources":["Context.js","components/Header.jsx","hooks/useHover.js","components/CartItem.jsx","pages/Cart.jsx","components/Image.jsx","utils/index.js","pages/Photos.jsx","App.jsx","index.js"],"names":["Context","React","createContext","ContextProvider","children","useState","allPhotos","setAllPhotos","cartItems","setCartItems","useEffect","fetch","then","res","json","data","Provider","value","toggleFavorite","id","updatedArr","map","photo","isFavorite","addToCart","img","prevItems","removeFromCart","filter","el","emptyCart","Header","cartClassName","useContext","length","to","className","useHover","hovered","setHovered","element","useRef","enter","leave","current","addEventListener","removeEventListener","CartItem","item","iconClassName","ref","onClick","src","url","width","alt","Cart","buttonText","setButtonText","totalCostDisplay","reduce","acc","cartItem","toLocaleString","style","currency","cartItemsElements","key","setTimeout","Image","find","getClass","i","Photos","imagesList","image","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3da3e90b.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst Context = React.createContext()\r\n\r\nfunction ContextProvider({ children }) {\r\n  const [allPhotos, setAllPhotos] = useState([]);\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  const url = 'https://raw.githubusercontent.com/tereshka/scrimba-react-bootcamp-images/master/images.json';\r\n  useEffect(() => {\r\n    fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => setAllPhotos(data))\r\n  }, []);\r\n\r\n  function toggleFavorite(id) {\r\n    const updatedArr = allPhotos.map(photo => {\r\n      if (photo.id === id) {\r\n        return {\r\n          ...photo,\r\n          isFavorite: !photo.isFavorite,\r\n        };\r\n      }\r\n      return photo;\r\n    })\r\n    setAllPhotos(updatedArr);\r\n  }\r\n\r\n  function addToCart(img) {\r\n    setCartItems(prevItems => [...prevItems, img]);\r\n  }\r\n\r\n  function removeFromCart(id) {\r\n    setCartItems(prevItems => prevItems.filter(el => el.id !== id));\r\n  }\r\n\r\n  function emptyCart() {\r\n    setCartItems([]);\r\n  }\r\n\r\n  return (\r\n    <Context.Provider value={{\r\n      allPhotos,\r\n      cartItems,\r\n      toggleFavorite,\r\n      addToCart,\r\n      removeFromCart,\r\n      emptyCart,\r\n    }}>\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport { ContextProvider, Context };","import React, { useContext } from 'react';\r\nimport { Context } from '../Context';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header() {\r\n  const { cartItems } = useContext(Context);\r\n\r\n  const cartClassName = cartItems.length > 0\r\n    ? 'ri-shopping-cart-fill ri-fw ri-2x'\r\n    : 'ri-shopping-cart-line ri-fw ri-2x';\r\n\r\n  return (\r\n    <header>\r\n      <Link to=\"/\"><h2>Pic Some</h2></Link>\r\n      <Link to=\"/cart\"><i className={cartClassName}></i></Link>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import {useState, useEffect, useRef} from 'react';\r\n\r\nfunction useHover() {\r\n  const [hovered, setHovered] = useState(false);\r\n  const element = useRef(null)\r\n\r\n  function enter() {\r\n    setHovered(true);\r\n  }\r\n\r\n  function leave() {\r\n    setHovered(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    element.current.addEventListener('mouseenter', enter);\r\n    element.current.addEventListener('mouseleave', leave);\r\n    element.current.addEventListener('touchstart', enter);\r\n    element.current.addEventListener('touchend', leave);\r\n    return () => {\r\n      element.current.removeEventListener('mouseenter', enter);\r\n      element.current.removeEventListener('mouseleave', leave);\r\n      element.current.removeEventListener('touchstart', enter);\r\n      element.current.removeEventListener('touchend', leave);\r\n    };\r\n  }, []);\r\n\r\n  return [hovered, element];\r\n}\r\n\r\nexport default useHover;","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Context } from '../Context';\r\nimport useHover from '../hooks/useHover';\r\n\r\nfunction CartItem({ item }) {\r\n  const [hovered, element] = useHover();\r\n  const { removeFromCart } = useContext(Context);\r\n\r\n  const iconClassName = hovered ? \"ri-delete-bin-fill\" : \"ri-delete-bin-line\"\r\n\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <i\r\n        ref={element}\r\n        className={iconClassName}\r\n        onClick={() => removeFromCart(item.id)}\r\n      >\r\n      </i>\r\n      <img src={item.url} width=\"130px\" alt={item.id} />\r\n      <p>$5.99</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nCartItem.propTypes = {\r\n  item: PropTypes.shape({\r\n      url: PropTypes.string.isRequired\r\n  })\r\n}\r\n\r\nexport default CartItem;","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../Context';\r\n\r\nimport CartItem from \"../components/CartItem\"\r\n\r\nfunction Cart() {\r\n  const [buttonText, setButtonText] = useState('Place Order');\r\n  const { cartItems, emptyCart } = useContext(Context);\r\n\r\n  // get price of item, when it will be in item\r\n  const totalCost = cartItems.reduce((acc, cartItem) => acc + 5.99, 0);\r\n  const totalCostDisplay = totalCost.toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" });\r\n\r\n  const cartItemsElements = cartItems.map(item => (\r\n    <CartItem key={item.id} item={item} />\r\n  ));\r\n\r\n  function handleOrder() {\r\n    setButtonText('Ordering...');\r\n    setTimeout(() => {\r\n      setButtonText('Place Order');\r\n      emptyCart();\r\n    }, 3000);\r\n  }\r\n\r\n  return (\r\n    <main className=\"cart-page\">\r\n      <h1>Check out</h1>\r\n      {cartItemsElements}\r\n      <p className=\"total-cost\">Total: {totalCostDisplay}</p>\r\n      {cartItems.length > 0\r\n        ? <div className=\"order-button\">\r\n          <button onClick={handleOrder}>{buttonText}</button>\r\n        </div>\r\n        : <p>You have no items in your cart.</p>\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Cart;","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Context } from '../Context';\r\nimport useHover from '../hooks/useHover';\r\n\r\nfunction Image({ className, img }) {\r\n  const [hovered, element] = useHover();\r\n  const { cartItems, toggleFavorite, addToCart, removeFromCart } = useContext(Context);\r\n\r\n  function heartIcon() {\r\n    if (img.isFavorite) {\r\n      return <i className=\"ri-heart-fill favorite\" onClick={() => toggleFavorite(img.id)}></i>;\r\n    } else if (hovered) {\r\n      return <i className=\"ri-heart-line favorite\" onClick={() => toggleFavorite(img.id)}></i>;\r\n    }\r\n  }\r\n\r\n  function cartIcon() {\r\n    const inCart = cartItems.find(el => el.id === img.id);\r\n    if (inCart) {\r\n      return <i className=\"ri-shopping-cart-fill cart\" onClick={() => removeFromCart(img.id)}></i>;\r\n    } else if (hovered) {\r\n      return <i className=\"ri-add-circle-line cart\" onClick={() => addToCart(img)}></i>;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div ref={element} className={`${className} image-container`}>\r\n      <img src={img.url} alt={img.id} className=\"image-grid\" />\r\n      {heartIcon()}\r\n      {cartIcon()}\r\n    </div>\r\n  )\r\n}\r\n\r\nImage.propTypes = {\r\n  className: PropTypes.string,\r\n  img: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    url: PropTypes.string.isRequired,\r\n    isFavorite: PropTypes.bool,\r\n  }),\r\n}\r\n\r\nexport default Image;\r\n","export function getClass(i) {\r\n  if (i % 5 === 0) {\r\n    return 'big';\r\n  }\r\n  else if (i % 6 === 0) {\r\n    return 'wide'\r\n  }\r\n}","import React, { useContext } from 'react';\r\nimport { Context } from '../Context';\r\n\r\nimport Image from '../components/Image';\r\nimport { getClass } from '../utils';\r\n\r\nfunction Photos() {\r\n  const { allPhotos } = useContext(Context);\r\n\r\n  const imagesList = allPhotos.map((image, i) =>\r\n    <Image key={image.id} img={image} className={getClass(i)} />\r\n  );\r\n\r\n  return (\r\n    <main className=\"photos\">\r\n      {imagesList}\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Photos;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport Cart from './pages/Cart';\nimport Photos from './pages/Photos';\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <Photos />\n        </Route>\n\n        <Route path=\"/cart\">\n          <Cart />\n        </Route>\n      </Switch>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { ContextProvider } from \"./Context\"\n\nimport './style.css';\nimport App from './App';\n\nReactDOM.render(\n  <ContextProvider>\n    <Router>\n      <App />\n    </Router>\n  </ContextProvider>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}